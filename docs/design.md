## Общие сведения об игре

Игра с видом сверху на клетчатом поле любого размера (на экране видна только его часть).
Цель игры — пройти уровень от входа до выхода.
Пользователь управляет персонажем, перемещаясь по карте и взаимодействую с различными игровыми объектами (например, стена, монетка, враг, вещь и т.д).

Объект типа вещь игрок может подобрать себе в инвентарь.
Вещь из инвентаря игрок может "надеть" на себя, при этом изменяются какие-то способности/характеристики (например, игрок ускоряется или получает возможность проходить сквозь стены).
При снятии вещи, она возвращается в инвентарь.

Есть вещи с одноразовым эффектом, например монетки или сердечки, увеличивающие количество здоровья.

При запуске игры инициализируется уровень: объекты и их положение либо случайно генерируются, либо подгружаются из файла.

После смерти персонажа игра завершается, и надо начинать сначала.

## Architectural drivers

- Технические ограничения: 
  - необходимо кроссплатформенное решение
  - важна скорость программы, так как это real-time игра
- Ограничения по срокам:
  - добавлять новые возможности в игру каждые пару недель
  - закончить проект до середины декабря
- Функциональные требования:
  - консольная графика
  - минимум 60fps
  - генерация карт
- Атрибуты качества:
  - расширямая архитектура

## Описание типичного пользователя

- Знаком с жанром roguelike 
- Опытный игрок, которому важна сложность прохождения, а не сюжет или графика
- Привык проходить игры на одной только клавиатуре
- Готов разбираться с большим набором правил и игровых механик

## Диаграмма компонентов

?

## Диаграмма классов

? 

## Диаграмма последовательностей

![image](https://user-images.githubusercontent.com/54814796/199162190-92c9605a-2030-4259-9300-1a34d2517df9.png)

Когда пользователь запускает игру, Engine инициализирует начальный GameState.

Далее, в бесконечном цикле, Engine получает текущий актуальный GameState, чтобы на основе него сконструировать View, которое Renderer отобразит на экране. 

В любой момент пользователь может совершить действие, например, нажать кнопку на клавиатуре.
Тогда Engine получит соответствующее событие от Controller, на основе которого обновит текущий GameState.

## Диаграмма конечных автоматов

![image](https://user-images.githubusercontent.com/54814796/199162111-03b7e2ed-9196-4a5e-8b40-df8b391c4e3f.png)

- Игрок начинает в состоянии Idle.
- При нажатии на клавиши перемещения происходит переход в состояние Moving, в котором игрок двигается по карте. Перед выходом из Moving игрок останавливается.
- При нажатии клавиши атаки, если текущее состояние — Idle или Move, игрок изменяет состояние на Attack, в котором атакует, после чего возвращается в то состояние, в котором был. 
- При получении урона игрок меняет состояние на Hurt, уменьшает количество своего здоровья, после чего возвращается в то состояние Idle. Если здоровье стало равным нулю, то игрок переходит в состояние Die.

